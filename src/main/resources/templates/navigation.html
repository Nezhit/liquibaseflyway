<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="en">

<body>
    <div th:fragment="navigation(activeTab)">
        <nav class="navbar navbar-expand navbar-light bg-light">
            <div id="navbarNav" style="margin-left: auto; margin-right: auto;">
                <ul class="navbar-nav">
                    <li class="nav-item" th:classappend="${activeTab == 'Home' ? 'active' : ''}">
                        <a class="nav-link" th:href="@{/}">Главная</a>
                    </li>
                    <li class="nav-item" th:classappend="${activeTab == 'Users' ? 'active' : ''}">
                        <a class="nav-link" th:href="@{/users}">Чаты</a>
                    </li>
                    <li class="nav-item" th:classappend="${activeTab == 'Statistic' ? 'active' : ''}">
                        <a class="nav-link" th:href="@{/user-statistics}">Статистика</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/login}">Авторизация</a>
                    </li>
                    <li class="nav-item" style="margin-top: auto; margin-bottom: auto;">
                        <a href="/personpage">
                            <img id="navbarAvatar" src="" alt="Профиль" style="width: 40px; height: 40px; vertical-align:middle;">
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
        <script>
            window.addEventListener('DOMContentLoaded', (event) => {
                const timestamp = new Date().getTime();
                document.getElementById('navbarAvatar').src = `/getAvatar/?t=${timestamp}`;

            });

        </script>
    </div>

</body>

</html>